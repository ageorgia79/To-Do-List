"use script";var Task=Backbone.Model.extend({idAttribute:"_id"}),TaskCollection=Backbone.Collection.extend({model:Task,url:"http://tiny-pizza-server.herokuapp.com/collections/test-users"}),TaskView=Backbone.View.extend({template:_.template($(".todo-list").text()),editTemplate:_.template($(".todo-list").text()),events:{"click .done-button":"showEdit","click .save-button":"saveChanges","keydown input":"checkForChanges"},initialize:function(){this.listenTo(this.model,"change",this.render),$(".taskBox").prepend(this.el),this.render()},render:function(){var a=this.template(this.model.attributes);this.$el.html(a)},showEdit:function(){this.model.destroy(),this.remove()},saveChanges:function(){var a=this.$el.find(".taskName input").val();this.model.set("task",a),this.model.save()},checkForChanges:function(){this.model.get("task")!==this.$el.find(".taskName input").val()?this.$el.find(".taskName input").addClass("changed"):this.$el.find(".taskName input").removeClass("changed")}}),addTask=new TaskCollection;console.log(addTask);var cool=addTask.fetch().done(function(){addTask.each(function(a){new TaskView({model:a})})});console.log(cool),$(".submitTaskButton").click(function(){var a=$(".newItem").val(),b=addTask.add({name:a});b.save(),$(".newItem").val(""),new TaskView({model:b})});